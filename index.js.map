{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '46590311-6ed07305336452fed03a33c90';\nconst EXTRA_OPTIONS = 'image_type=photo&orientation=horizontal&safesearch=true';\n\nfunction getPhotos(query) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&${EXTRA_OPTIONS}`).then(\n    res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    }\n  );\n}\n\nexport default getPhotos;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction createGalleryItemMarkup(cards) {\n  return cards\n    .map(\n      ({\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) => `\n      <div class=\"photo-card\">\n        <a href=\"${largeImageURL}\" class=\"photo-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery-image\" data-source=${largeImageURL}/>\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b><br>${likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b><br>${views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b><br>${comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b><br>${downloads}\n          </p>\n        </div>\n      </div>`\n    )\n    .join('');\n}\n\nconst msgOptions = {\n  timeout: 5000,\n  position: 'topRight',\n  transitionIn: 'bounceInDown',\n  transitionOut: 'fadeOutUp',\n  transitionInMobile: 'bounceInDown',\n  transitionOutMobile: 'fadeOutUp',\n  messageSize: '16px',\n  theme: 'dark',\n  backgroundColor: '#ef4040',\n  messageColor: 'white',\n};\n\nfunction showError(errorCode) {\n  iziToast.error({\n    ...msgOptions,\n    message: `Error!<br><b>${errorCode}</b><br>Please try again!`,\n  });\n}\n\nfunction showNotFound(query) {\n  iziToast.error({\n    ...msgOptions,\n    message: `Sorry, there are no images matching your <br><b>${query}</b> query.<br>Please try again!`,\n  });\n}\n\nexport default createGalleryItemMarkup;\nexport { showNotFound };\nexport { showError };\n","import getPhotos from './js/pixabay-api';\nimport createGalleryItemMarkup from './js/render-functions';\nimport { showNotFound, showError } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formEl = document.querySelector('form');\nconst btnEl = document.querySelector('button');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', btnOnSubmit);\n\nlet galleryLightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction btnOnSubmit(event) {\n  event.preventDefault();\n\n  const userQuery = event.target[0].value;\n  loaderEl.hidden = false;\n  galleryEl.innerHTML = '';\n\n  getPhotos(userQuery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        galleryEl.innerHTML = '';\n        loaderEl.hidden = true;\n        showNotFound(userQuery);\n        return;\n      }\n      loaderEl.hidden = true;\n      galleryEl.innerHTML = createGalleryItemMarkup(data.hits);\n      galleryLightbox.refresh();\n    })\n    .catch(error => showError(error));\n\n  return;\n}\n"],"names":["BASE_URL","API_KEY","EXTRA_OPTIONS","getPhotos","query","res","createGalleryItemMarkup","cards","webformatURL","tags","likes","views","comments","downloads","largeImageURL","msgOptions","showError","errorCode","iziToast","showNotFound","formEl","galleryEl","loaderEl","btnOnSubmit","galleryLightbox","SimpleLightbox","event","userQuery","data","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAgB,0DAEtB,SAASC,EAAUC,EAAO,CACxB,OAAO,MAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAMG,CAAK,IAAIF,CAAa,EAAE,EAAE,KACrEG,GAAO,CACL,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACZ,CACL,CACA,CCVA,SAASC,EAAwBC,EAAO,CACtC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACR,IAAY;AAAA;AAAA,mBAEOA,CAAa;AAAA,sBACVN,CAAY,UAAUC,CAAI,sDAAsDK,CAAa;AAAA;AAAA;AAAA;AAAA,8BAIrFJ,CAAK;AAAA;AAAA;AAAA,8BAGLC,CAAK;AAAA;AAAA;AAAA,iCAGFC,CAAQ;AAAA;AAAA;AAAA,kCAGPC,CAAS;AAAA;AAAA;AAAA,aAItC,EACA,KAAK,EAAE,CACZ,CAEA,MAAME,EAAa,CACjB,QAAS,IACT,SAAU,WACV,aAAc,eACd,cAAe,YACf,mBAAoB,eACpB,oBAAqB,YACrB,YAAa,OACb,MAAO,OACP,gBAAiB,UACjB,aAAc,OAChB,EAEA,SAASC,EAAUC,EAAW,CAC5BC,EAAS,MAAM,CACb,GAAGH,EACH,QAAS,gBAAgBE,CAAS,2BACtC,CAAG,CACH,CAEA,SAASE,EAAaf,EAAO,CAC3Bc,EAAS,MAAM,CACb,GAAGH,EACH,QAAS,mDAAmDX,CAAK,kCACrE,CAAG,CACH,CCzDA,MAAMgB,EAAS,SAAS,cAAc,MAAM,EAC9B,SAAS,cAAc,QAAQ,EAC7C,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAEjDF,EAAO,iBAAiB,SAAUG,CAAW,EAE7C,IAAIC,EAAkB,IAAIC,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASF,EAAYG,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,OAAO,CAAC,EAAE,MAClCJ,EAAS,OAAS,GAClBD,EAAU,UAAY,GAEtBlB,EAAUwB,CAAS,EAChB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BP,EAAU,UAAY,GACtBC,EAAS,OAAS,GAClBH,EAAaQ,CAAS,EACtB,MACD,CACDL,EAAS,OAAS,GAClBD,EAAU,UAAYf,EAAwBsB,EAAK,IAAI,EACvDJ,EAAgB,QAAO,CAC7B,CAAK,EACA,MAAMK,GAASb,EAAUa,CAAK,CAAC,CAGpC"}